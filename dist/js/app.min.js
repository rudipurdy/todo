(()=>{"use strict";let e=document.querySelector(".save"),t=document.querySelector(".write"),a=document.querySelector("textarea"),c=document.querySelector("#notes"),n=[];e.addEventListener("click",(function(){n.push(a.value);let l=document.createElement("li");c.appendChild(l);let s=document.getElementsByTagName("li"),i=Array.prototype.slice.call(s);for(let e=0;e<i.length;e++)i[e].addEventListener("click",(function(){for(let e=0;e<i.length;e++)i[e].classList.remove("active");i[e].classList.add("active")}));i.forEach((t=>{let c=n.length;l.textContent=`Запись ${c}`,l.dataset.key=c,t.addEventListener("click",(function(l){t.classList.contains("active")&&(e.setAttribute("data-mode","update"),e.dataset.key=c),0==t.classList.contains("active")&&e.setAttribute("data-mode","create"),n.forEach(((e,t)=>{t==l.target.dataset.key&&(a.value=e)}))}))})),t.addEventListener("click",(function(){e.setAttribute("data-mode","create")})),a.focus(),a.value=""}))})();